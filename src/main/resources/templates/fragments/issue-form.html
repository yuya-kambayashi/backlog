<!DOCTYPE html>
<html>
<head>
</head>
<body>
<div th:fragment="issue-form(issue)">
    <div class="container">
        <div class="row">
            <div class="col-3">
                <select class="form-select form-select-sm" id="type" name="type">
                    <option th:each="t : ${types}" th:value="${t}" th:text="${t}"></option>
                </select>
            </div>
        </div>
        <div class="row">
            <input class="col form-control" style="margin: 12px" type="text" placeholder="件名" th:field="*{title}"
                   required/>
        </div>
        <div class="card">
            <div class="card-body container">
                <div class="row m-2">
                     <textarea class="col" placeholder="課題の詳細 (@を入力してメンバーに通知)"
                               th:field="*{description}"
                               rows="8"></textarea>
                </div>
                <div class="row m-2 border-top">
                    <label class="col-2 border-bottom " for="status">状態</label>
                    <div class="col-4 border-bottom">
                        <select class="form-select form-select-sm" id="status" name="status">
                            <option th:each="s : ${statuses}" th:value="${s}" th:text="${s}"></option>
                        </select>
                    </div>
                    <label class="col-2 ms-auto border-bottom" for="assigner">担当者</label>
                    <div class="col-4 border-bottom">
                        <select class="form-select form-select-sm" id="assigner" name="assigner">
                            <option th:each="user : ${users}" th:value="${user.id}"
                                    th:text="${user.username}"></option>
                        </select>
                    </div>
                </div>
                <div class="row m-2">
                    <label class="col-2 border-bottom" for="priority">優先度</label>
                    <div class="col-4 border-bottom">
                        <select class="form-select form-select-sm" id="priority" name="priority">
                            <option th:each="p : ${priorities}" th:value="${p}"
                                    th:text="${p}"></option>
                        </select>
                    </div>
                    <label class="col-2 border-bottom" for="milestone">マイルストーン</label>
                    <div class="col-4 border-bottom">
                        <select class="form-select form-select-sm" id="milestone" name="milestone">
                            <option th:each="m : ${milestones}" th:value="${m.id}"
                                    th:text="${m.name}"></option>
                        </select>
                    </div>
                </div>
                <div class="row m-2">
                    <label class="col-2 border-bottom" for="category">カテゴリー</label>
                    <div class="col-4 border-bottom">
                        <select class="form-select form-select-sm" id="category" name="category">
                            <option th:each="c : ${categories}" th:value="${c.id}"
                                    th:text="${c.name}"></option>
                        </select>
                    </div>
                    <label class="col-2 border-bottom" for="versions">発生バージョン</label>
                    <div class="col-4 border-bottom">
                        <select class="form-select form-select-sm" id="versions" name="versions">
                            <option th:each="m : ${milestones}" th:value="${m.id}"
                                    th:text="${m.name}"></option>
                        </select>
                    </div>
                </div>
                <div class="row m-2">
                    <label class="col-2 border-bottom" for="limitDate">期限日</label>
                    <div class="col-4 border-bottom">
                        <input class="form-control" type="date" id="limitDate" name="limitDate"
                               th:value="${limitDate}"/>
                    </div>

                    <label th:if="${issue.id != null }" class="col-2 border-bottom" for="resolution">完了理由</label>
                    <div th:if="${issue.id != null }" class="col-4 border-bottom">
                        <select class="form-select form-select-sm" id="resolution" name="resolution">
                            <option th:each="r : ${resolutions}" th:value="${r}" th:text="${r}"></option>
                        </select>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col">
            通知ユーザーを追加
        </div>
    </div>
</div>
</body>
</html>

